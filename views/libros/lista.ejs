<%- include('../Parcial/header') %>

<div class="page-header">
  <h2>ðŸ“š CatÃ¡logo de Libros</h2>
  <a href="/libros/nuevo" class="btn">+ Agregar Libro</a>
</div>

<% if (libros.length === 0) { %>
  <p class="empty-message">No hay libros registrados. Â¡Agrega uno!</p>
<% } else { %>
  <div class="tabla-contenedor">
    <table>
      <thead>
        <tr>
          <th>TÃ­tulo</th>
          <th>Autor</th>
          <th>GÃ©nero</th>
          <th>AÃ±o</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <% libros.forEach(libro => { %>
        <tr>
          <td><strong><%= libro.titulo %></strong></td>
          <td><%= libro.autor %></td>
          <td><%= libro.genero %></td>
          <td><%= libro.anio %></td>
          <td>
            <% if (libro.disponible) { %>
              <span class="badge disponible">Disponible</span>
            <% } else { %>
              <span class="badge prestado">Prestado</span>
            <% } %>
          </td>
          <td>
            <a href="/libros/<%= libro._id %>/editar" class="btn-small">Editar</a>
            <form action="/libros/<%= libro._id %>?_method=DELETE" method="POST" style="display: inline;">
              <button type="submit" class="btn-small btn-danger" onclick="return confirm('Â¿Eliminar este libro?')">Eliminar</button>
            </form>
          </td>
        </tr>
        <% }); %>
      </tbody>
    </table>
  </div>
<% } %>

<%- include('../Parcial/footer') %>